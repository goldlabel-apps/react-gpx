{"version":3,"sources":["gpx-replay/store/userEntity/userEntityState.js","gpx-replay/store/userEntity/userEntity.reducer.js","gpx-replay/store/reducers.js","gpx-replay/store/initialState.js","gpx-replay/store/configureStore.js","gpx-replay/style/theme.js","gpx-replay/style/textColours.js","gpx-replay/style/AppShell.Style.js","gpx-replay/views/Auth.jsx","gpx-replay/views/Home.jsx","gpx-replay/GPXReplay.jsx","serviceWorker.js","index.js"],"names":["userEntityState","updated","Date","now","auth","authed","user","fingerprint","ip","userAgent","userEntity","state","action","type","params","combineReducers","initialState","persistConfig","key","storage","rootReducer","persistReducer","reducers","theme","palette","primary","main","secondary","text","light","disabled","hint","icon","divider","lightDivider","white","dark","background","default","paper","appBar","contentFrame","typography","fontFamily","styles","view","margin","maxWidth","card","padding","spacing","Auth","this","props","classes","store","console","log","className","cn","pad","Card","CardHeader","title","subheader","avatar","Avatar","src","CardMedia","media","image","CardContent","Typography","variant","Component","connect","dispatch","withStyles","withTheme","withRouter","Home","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","GPXReplay","loading","MuiThemeProvider","createMuiTheme","CssBaseline","exact","path","render","container","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","packageJSON","name","version","ReactDOM","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.e7c2f5ae.chunk.js","sourcesContent":["export const userEntityState = {\n  updated: Date.now(),\n  auth: {\n    authed: false,\n  },\n  user: {\n    fingerprint: null,\n    ip: null,\n    userAgent: null,\n  }\n};\n","\nimport { userEntityState } from './userEntityState';\nexport { userEntityState };\n\nconst userEntity = (state = {}, action) => {\n\n  switch (action.type) {\n\n    case 'USERENTITY/OPEN/MESSAGE':\n      return {\n        ...state,\n        userEntityState: {\n          ...state.userEntityState,\n          updated: Date.now(),\n          auth: {\n            authed: true,\n            params: action.params\n          }\n        }\n      };\n\n    case 'USERENTITY/RESET':\n      return {\n        userEntityState\n      };\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default userEntity;\n","import { combineReducers } from 'redux';\nimport userEntity from './userEntity/userEntity.reducer';\n\nexport default combineReducers({\n  userEntity,\n});\n","import { userEntityState } from './userEntity/userEntity.reducer';\n\nconst initialState = {\n\tuserEntity: { userEntityState },\n};\n\nexport default initialState;\n","import { composeWithDevTools } from 'redux-devtools-extension';\nimport { createStore, applyMiddleware } from 'redux';\nimport { persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport thunk from 'redux-thunk';\nimport reducers from './reducers';\nimport initialState from './initialState';\n\nconst persistConfig = {\n  key: \"gpx-replay\",\n  storage,\n};\n\nconst rootReducer = persistReducer(persistConfig, reducers);\n\nexport function configureStore() {\n  return createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(thunk)),\n  )\n};\n","import textColours from \"./textColours\";\n// const { brand } = window.pwaConfig;\nconst primary = `#912a2d`;\nconst secondary = `#d23e42`;\nlet text = textColours.light;\n\nconst theme = {\n  palette: {\n    primary: {\n      main: primary || \"#222\"\n    },\n    secondary: {\n      main: secondary || \"#333\"\n    },\n    text,\n    background: {\n      default: secondary,\n      paper: primary,\n      appBar: secondary,\n      contentFrame: primary\n    }\n  },\n  typography: {\n    fontFamily: '\"Helvetica\", sans-serif'\n  }\n};\n\nexport default theme;\n","const textColours = {\n  light: {\n    primary: \"rgba(255, 255, 255, 0.87)\",\n    secondary: \"rgba(255, 255, 255, 0.54)\",\n    disabled: \"rgba(255, 255, 255, 0.38)\",\n    hint: \"rgba(255, 255, 255, 0.38)\",\n    icon: \"rgba(255, 255, 255, 0.38)\",\n    divider: \"rgba(255, 255, 255, 0.12)\",\n    lightDivider: \"rgba(255, 255, 255, 0.075)\",\n    white: \"#fff\"\n  },\n  dark: {\n    primary: \"rgba(0, 0, 0, 0.87)\",\n    secondary: \"rgba(0, 0, 0, 0.54)\",\n    disabled: \"rgba(0, 0, 0, 0.38)\",\n    hint: \"rgba(0, 0, 0, 0.38)\",\n    icon: \"rgba(0, 0, 0, 0.38)\",\n    divider: \"rgba(0, 0, 0, 0.12)\",\n    lightDivider: \"rgba(0, 0, 0, 0.075)\",\n    white: \"#fff\"\n  }\n};\n\nexport default textColours;\n","\nexport const styles = theme => ({\n    view: {\n        margin: 'auto',\n        maxWidth: 500,\n    },\n    card: {\n        padding: theme.spacing(),\n        margin: theme.spacing(),\n        // border: '1px solid white',\n    }\n});\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router\";\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport cn from 'classnames';\nimport { styles } from '../style/AppShell.Style';\nimport {\n    Avatar,\n    Card,\n    CardHeader,\n    CardContent,\n    CardMedia,\n    Typography\n} from '@material-ui/core/';\n// import IconRefresh from '@material-ui/icons/RefreshTwoTone';\n\nclass Auth extends Component {\n\n    render() {\n        const {\n            classes,\n            // history,\n            store\n        } = this.props;\n        console.log('store', store)\n\n        return (\n            <div className={cn(classes.view)}>\n                <div className={cn(classes.pad)}>\n                    <Card className={classes.card}>\n                        <CardHeader\n                            title={`GPX Replay`}\n                            subheader=\"Authentication\"\n                            avatar={<Avatar src={`/logo192.png`} />}\n                        />\n                        <CardMedia\n                            className={classes.media}\n                            image={`/logo512.png`}\n                            title={`Firebase/Node REST API`}\n                        />\n                        <CardContent>\n                            <Typography variant={`body1`}>\n                                GPX, or GPS Exchange Format\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        store\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // systemToggleTopAppBar: (bool) => dispatch(systemToggleTopAppBar(bool)),\n    };\n};\n\nexport default (\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(withStyles(styles, { withTheme: true })(withRouter(Auth)))\n);\n","import React, { Component } from 'react';\nimport { withRouter } from \"react-router\";\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport cn from 'classnames';\nimport { styles } from '../style/AppShell.Style';\nimport {\n    Avatar,\n    Card,\n    CardHeader,\n    CardContent,\n    Typography\n} from '@material-ui/core/';\n// import IconRefresh from '@material-ui/icons/RefreshTwoTone';\n\nclass Home extends Component {\n\n    render() {\n        const {\n            classes,\n            // history,\n            store\n        } = this.props;\n        console.log('store', store)\n\n        return (\n            <div className={cn(classes.view)}>\n                <div className={cn(classes.pad)}>\n                    <Card className={classes.card}>\n                        <CardHeader\n                            title={`GPX Replay`}\n                            subheader=\"Got location data?\"\n                            avatar={<Avatar src={`/logo192.png`} />}\n                        />\n                        <CardContent>\n                            <Typography variant={`body1`}>\n                                GPX, or GPS Exchange Format, is an XML schema designed as a common GPS data format for software applications. It can be used to describe waypoints, tracks, and routes. The format is open and can be used without the need to pay license fees. Location data (and optionally elevation, time, and other information) is stored in tags and can be interchanged between GPS devices and software. Common software applications for the data include viewing tracks projected onto various map sources, annotating maps, and geotagging photographs based on the time they were taken.\n                            </Typography>\n                        </CardContent>\n\n                    </Card>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (store) => {\n    return {\n        store\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        // systemToggleTopAppBar: (bool) => dispatch(systemToggleTopAppBar(bool)),\n    };\n};\n\nexport default (\n    connect(\n        mapStateToProps,\n        mapDispatchToProps\n    )(withStyles(styles, { withTheme: true })(withRouter(Home)))\n);\n\n/*\n\n\n<CardMedia\n                            className={classes.media}\n                            image={`/logo512.png`}\n                            title={`Firebase/Node REST API`}\n                        />\n*/","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { persistStore } from \"redux-persist\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/es/integration/react\";\nimport { configureStore } from \"./store/configureStore\";\nimport { withStyles } from '@material-ui/styles';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport theme from './style/theme';\n// import cn from 'classnames';\nimport {\n    CssBaseline,\n} from '@material-ui/core/';\nimport Auth from './views/Auth';\nimport Home from './views/Home';\n\nconst styles = () => ({\n    container: {\n        margin: 'auto',\n        maxWidth: 800,\n    }\n});\nconst store = configureStore();\nconst persistor = persistStore(store);\n\nclass GPXReplay extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <PersistGate loading={null} persistor={persistor}>\n                    <MuiThemeProvider theme={createMuiTheme(theme)}>\n                        <CssBaseline />\n                        <Router>\n                            <Switch>\n                                <Route exact path=\"/\" render={props => {\n                                    return (<Home />);\n                                }} />\n                                <Route exact path=\"/auth\" render={props => {\n                                    return (<Auth />);\n                                }} />\n                            </Switch>\n                        </Router>\n                    </MuiThemeProvider>\n                </PersistGate>\n            </Provider>\n        );\n    }\n}\n\nexport default withStyles(styles)(GPXReplay);\n","\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  window.location.hostname === '[::1]' ||\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl, config);\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              console.log(\n                'New version available'\n              );\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              console.log('Content is cached for offline use.');\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  fetch(swUrl)\n    .then(response => {\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import packageJSON from \"../package.json\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { GPXReplay } from './gpx-replay';\nimport * as serviceWorker from './serviceWorker';\n\nconsole.log(`${packageJSON.name} ${packageJSON.version}`);\n// (${process.env.REACT_APP_ENV})\n\nReactDOM.render(<GPXReplay />, document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}